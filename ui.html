<style>
  body {
    font-family: 'Inter', sans-serif;
  }
  h1 {
    font-weight: 600;
    font-size: 18px;
    letter-spacing: 0.1px;
  }

  p {
    font-size: 12px;
    font-weight: 400;
    letter-spacing: 0.055px;
  }

  button {
    display: block;
    margin-left: auto;
    padding: 0.5rem 1rem;
    margin-top: 1rem;
    border: none;
    font-size: 12px;
    font-weight: 600;
    color: #FFFFFF;
    background-color: #000000;
  }

  button:hover {
    background-color: #333333;
    cursor: pointer;
  }
</style>

<h1>Select your text colors</h1>
<p>Running the plugin will add color contrast ratio information for these colors to the description panel of all solid color styles.</p>

<ul id="styles-list"></ul>

<button id="create">Create</button>

<script>
  // Select the ul tag
  const stylesListElement = document.getElementById("styles-list");

  // Handle incoming message from code.js
  onmessage = ({ data: { pluginMessage } }) => {
    const messageType = pluginMessage.type;
    // React only to "render" message
    if (messageType === "render") {
      // Get an array of style names from the message
      const styleNames = pluginMessage.styleNames;
      // Turn array of names into a single HTML string with li tags
      const rowHTML = styleNames.reduce(
        (resultString, styleName) => resultString + `<li><input type="checkbox" id="${styleName}"> ${styleName}</li>`,
        ""
      );
      // Insert li tags inside the ul
      stylesListElement.innerHTML = rowHTML;
    }
  };

  // Send selected colors to the code.js
  document.getElementById('create').onclick = () => {
    const selectedInputs = document.querySelectorAll('input[type="checkbox"]:checked');
    let selectedColors = [];

    for (let i = 0; i < selectedInputs.length; i++) {
      selectedColors[i] = selectedInputs[i].getAttribute(`id`)
    }

    parent.postMessage({ pluginMessage: { type: 'selectedColors', selectedColors } }, '*')
  }
</script>